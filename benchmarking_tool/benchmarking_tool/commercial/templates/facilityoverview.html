<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=1360, maximum-scale=1.0" />
    <link rel="shortcut icon" type="image/png" href="{{url_for('static',filename='https://animaproject.s3.amazonaws.com/home/favicon.png')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/overview-main.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/styleguide.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/globals.css')}}" />
    <link rel="stylesheet" href="{{url_for('static',filename='css/utilities.css')}}">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts" type="text/javascript"></script>
  </head>
  <body style="margin: 0; background: #ffffff" onload="resetVariables(); getTotal(); changeToKWH(); populatePanel(); changeDotColourCategory();">
    <input type="hidden" id="anPageName" name="page" value="overview-main" />
    <div class="container-center-horizontal">
      <div class="overview-main screen" style = 'bottom: 20px;'>
        <div class = 'inventory-page'>
            <div class="container-inventory">
         <div class="inventory">
        <div class="inventory__sidebar">
                 <div class="arrow-toggle">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_175_397)">
                        <path d="M7.3335 11L12.8335 16.5L14.126 15.2075L9.92766 11L14.126 6.7925L12.8335 5.5L7.3335 11Z" fill="white"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_175_397">
                        <rect width="22" height="22" fill="white" transform="translate(0 22) rotate(-90)"/>
                        </clipPath>
                        </defs>
                        </svg>
                        
                 </div>
               <div class="inventory__sidebar--logo">
                   <a href="#">
                    <svg width="50" height="58" viewBox="0 0 50 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.31689 36.604C2.31689 29.8725 7.36509 25.1192 14.265 25.1192C21.2491 25.1192 26.2552 29.8725 26.2552 36.604C26.2552 43.3354 21.2491 48.1309 14.265 48.1309C7.3666 48.1309 2.31689 43.3339 2.31689 36.604ZM20.9543 36.604C20.9543 32.3124 18.0933 29.5777 14.265 29.5777C10.4789 29.5777 7.61781 32.3124 7.61781 36.604C7.61781 40.8955 10.4789 43.6302 14.265 43.6302C18.0933 43.6287 20.9543 40.894 20.9543 36.604Z" fill="#4DAAE8"/>
                        <path d="M18.3551 21.7392C22.5696 21.7392 25.986 18.3227 25.986 14.1082C25.986 9.89373 22.5696 6.47723 18.3551 6.47723C14.1406 6.47723 10.7241 9.89373 10.7241 14.1082C10.7241 18.3227 14.1406 21.7392 18.3551 21.7392Z" fill="#98C355"/>
                        <path d="M3.80871 57.4301C5.91221 57.4301 7.61743 55.7248 7.61743 53.6213C7.61743 51.5178 5.91221 49.8126 3.80871 49.8126C1.70522 49.8126 0 51.5178 0 53.6213C0 55.7248 1.70522 57.4301 3.80871 57.4301Z" fill="#4DAAE8"/>
                        <path d="M46.0467 9.99562C47.9899 9.99562 49.5651 8.42039 49.5651 6.47723C49.5651 4.53407 47.9899 2.95883 46.0467 2.95883C44.1036 2.95883 42.5283 4.53407 42.5283 6.47723C42.5283 8.42039 44.1036 9.99562 46.0467 9.99562Z" fill="#DB4B46"/>
                        <path d="M33.9446 8.85992C36.3912 8.85992 38.3746 6.87656 38.3746 4.42996C38.3746 1.98336 36.3912 0 33.9446 0C31.498 0 29.5146 1.98336 29.5146 4.42996C29.5146 6.87656 31.498 8.85992 33.9446 8.85992Z" fill="#F7CA50"/>
                        </svg>
                        <svg width="102" height="22" viewBox="0 0 102 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.3163 11.6663C13.3163 15.1636 10.8975 17.3598 7.90859 17.3598C6.62698 17.3598 5.59057 16.9732 4.83845 16.2015V21.1204H0.975586V6.15627H4.65493V7.25436C5.38749 6.3804 6.46452 5.97275 7.90859 5.97275C10.8975 5.97275 13.3163 8.16893 13.3163 11.6663ZM9.41282 11.6663C9.41282 9.99958 8.39596 9.04289 7.0948 9.04289C5.79364 9.04289 4.77678 9.99807 4.77678 11.6663C4.77678 13.3345 5.79364 14.2896 7.0948 14.2896C8.39596 14.2896 9.41282 13.333 9.41282 11.6663Z" fill="black"/>
                            <path d="M22.709 16.728C22.0381 17.1552 21.0423 17.3583 20.0254 17.3583C17.199 17.3583 15.5518 15.9759 15.5518 13.1494V9.44903H13.9453V6.56241H15.5518V3.69534H19.4147V6.56241H21.9358V9.44903H19.4147V13.1088C19.4147 13.9226 19.8825 14.3694 20.573 14.3694C21.0002 14.3694 21.4274 14.2475 21.7523 14.0234L22.709 16.728Z" fill="black"/>
                            <path d="M23.7661 2.88305C23.7661 1.72479 24.7017 0.829773 26.1247 0.829773C27.5478 0.829773 28.4834 1.66312 28.4834 2.82288C28.4834 4.04281 27.5478 4.93783 26.1247 4.93783C24.7017 4.93632 23.7661 4.04131 23.7661 2.88305ZM24.1933 6.15626H28.0562V17.1763H24.1933V6.15626Z" fill="black"/>
                            <path d="M30.2915 9.89728H36.2287V12.8651H30.2915V9.89728V9.89728Z" fill="black"/>
                            <path d="M57.2512 10.8735V17.1763H53.3883V11.5038C53.3883 9.91835 52.737 9.24746 51.7217 9.24746C50.604 9.24746 49.7902 9.99957 49.7902 11.7069V17.1763H45.9274V11.5038C45.9274 9.91835 45.2971 9.24746 44.2607 9.24746C43.122 9.24746 42.3082 9.99957 42.3082 11.7069V17.1763H38.4453V6.15627H42.1247V7.31452C42.958 6.4195 44.1178 5.97275 45.4189 5.97275C46.9232 5.97275 48.2048 6.52179 48.9764 7.70111C49.8504 6.60302 51.2132 5.97275 52.7987 5.97275C55.3604 5.97275 57.2512 7.45743 57.2512 10.8735Z" fill="black"/>
                            <path d="M59.2646 2.88305C59.2646 1.72479 60.2003 0.829773 61.6233 0.829773C63.0463 0.829773 63.9819 1.66312 63.9819 2.82288C63.9819 4.04281 63.0463 4.93783 61.6233 4.93783C60.1988 4.93632 59.2646 4.04131 59.2646 2.88305ZM59.6903 6.15626H63.5532V17.1763H59.6903V6.15626Z" fill="black"/>
                            <path d="M75.65 14.2881V17.1748H65.4844V14.8973L70.5882 9.02182H65.6273V6.15475H75.4469V8.4111L70.343 14.2866H75.65V14.2881Z" fill="black"/>
                            <path d="M88.4398 12.6425H80.4298C80.7547 13.7601 81.7099 14.4115 83.1344 14.4115C84.2114 14.4115 84.9229 14.1061 85.675 13.4563L87.7088 15.5712C86.6513 16.7506 85.1064 17.3598 83.0126 17.3598C79.088 17.3598 76.5474 14.941 76.5474 11.6467C76.5474 8.33288 79.1301 5.97424 82.6064 5.97424C85.8601 5.97424 88.503 8.04858 88.503 11.6873C88.5015 11.9701 88.4594 12.3371 88.4398 12.6425ZM80.3681 10.6088H84.8823C84.6792 9.45052 83.8248 8.71796 82.626 8.71796C81.4271 8.71796 80.5922 9.45052 80.3681 10.6088Z" fill="black"/>
                            <path d="M102 2.09033V17.1763H98.3205V16.0782C97.588 16.9521 96.511 17.3598 95.0879 17.3598C92.0795 17.3598 89.6592 15.1636 89.6592 11.6467C89.6592 8.14938 92.078 5.97426 95.0879 5.97426C96.368 5.97426 97.406 6.33979 98.137 7.11296V2.09033H102ZM98.1987 11.6452C98.1987 9.97852 97.2029 9.04289 95.9017 9.04289C94.5795 9.04289 93.5837 9.97852 93.5837 11.6452C93.5837 13.333 94.5795 14.2881 95.9017 14.2881C97.2014 14.2881 98.1987 13.333 98.1987 11.6452Z" fill="black"/>
                            </svg>
                                                    
                        
                   </a>
               </div>
               <div class="inventory__sidebar--links">
             <ul>
                 <li>
                     <a href="#">
                         <span>
                             <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 12H9C9.55 12 10 11.55 10 11V3C10 2.45 9.55 2 9 2H3C2.45 2 2 2.45 2 3V11C2 11.55 2.45 12 3 12ZM3 22H9C9.55 22 10 21.55 10 21V17C10 16.45 9.55 16 9 16H3C2.45 16 2 16.45 2 17V21C2 21.55 2.45 22 3 22ZM15 22H21C21.55 22 22 21.55 22 21V13C22 12.45 21.55 12 21 12H15C14.45 12 14 12.45 14 13V21C14 21.55 14.45 22 15 22ZM14 3V7C14 7.55 14.45 8 15 8H21C21.55 8 22 7.55 22 7V3C22 2.45 21.55 2 21 2H15C14.45 2 14 2.45 14 3Z" stroke="#AFB8CC" stroke-width="2"/>
                            </svg>
                            </span>
                         <span>Overview</span>
                     </a>
                 </li>
                 <li>
                    <a href = "{{url_for('commercial.datastream', building_id=building_id)}}">
                        <span>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.5 7L13.5 15.5L9.5 11L3.5 17" stroke="#AFB8CC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            </span>
                        <span>Data Stream</span>
                    </a>
                </li>
                <li>
                    <a href="{{url_for('commercial.inventory', building_id=building_id)}}">
                        <span>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 15.9999V7.9999C20.9996 7.64918 20.9071 7.30471 20.7315 7.00106C20.556 6.69742 20.3037 6.44526 20 6.2699L13 2.2699C12.696 2.09437 12.3511 2.00195 12 2.00195C11.6489 2.00195 11.304 2.09437 11 2.2699L4 6.2699C3.69626 6.44526 3.44398 6.69742 3.26846 7.00106C3.09294 7.30471 3.00036 7.64918 3 7.9999V15.9999C3.00036 16.3506 3.09294 16.6951 3.26846 16.9987C3.44398 17.3024 3.69626 17.5545 4 17.7299L11 21.7299C11.304 21.9054 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9054 13 21.7299L20 17.7299C20.3037 17.5545 20.556 17.3024 20.7315 16.9987C20.9071 16.6951 20.9996 16.3506 21 15.9999Z" stroke="#AFB8CC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                
                        </span>
                        <span> Inventory </span>
                       
                    
                </a>
                </li>
                <li>
                    <a href="{{url_for('commercial.utilities', building_id=building_id)}}">
                        <span>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 22C16.1175 22 19.5 18.737 19.5 14.549C19.5 13.521 19.4475 12.419 18.8775 10.706C18.3075 8.993 18.193 8.772 17.5905 7.714C17.333 9.8725 15.9555 10.7725 15.6055 11.0415C15.6055 10.7615 14.7725 7.668 13.509 5.8165C12.2685 4 10.5815 2.8085 9.5925 2C9.5925 3.535 9.161 5.817 8.5425 6.98C7.9245 8.1425 7.8085 8.185 7.036 9.05C6.264 9.915 5.9095 10.1825 5.2635 11.2325C4.618 12.2825 4.5 13.681 4.5 14.709C4.5 18.897 7.8825 22 12 22Z" stroke="#AFB8CC" stroke-width="2" stroke-linejoin="round"/>
                                </svg>
                                
                        </span>
                      <span>  Utilities &amp;<br/>
                        Alternatives</span>
                    </a>
                </li>
                <li class="logout-btn">
                   
                </li>
                <li class="ads">
              
                </li>
             </ul>

               </div>
             <div class="bottom-action">
                <button class="logout">
                    <span><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 4L7.6 5.4L10.2 8H0V10H10.2L7.6 12.6L9 14L14 9L9 4ZM18 16H10V18H18C19.1 18 20 17.1 20 16V2C20 0.9 19.1 0 18 0H10V2H18V16Z" fill="#AFB8CC"/>
                        </svg>
                        </span>
                        <span>Log Out</span>
                </button>
                   <div class="ads__box">
                
                    <div class="img">
                        <img src="{{url_for('static',filename='img/ads.png')}}" alt="">
                    </div>
                     <h2>Butetown Store</h2>
                     <p>4720 Yellowhead Trail NW</p>
                     <div class="ads__box--cta">
                         <a href="{{url_for('commercial.liveusage', building_id=building_id)}}">
                             <span>
                                <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.0415 6.87499H5.95817V7.79166H5.0415V6.87499ZM5.0415 3.20832H5.95817V5.95832H5.0415V3.20832ZM5.49525 0.916656C2.96525 0.916656 0.916504 2.96999 0.916504 5.49999C0.916504 8.02999 2.96525 10.0833 5.49525 10.0833C8.02984 10.0833 10.0832 8.02999 10.0832 5.49999C10.0832 2.96999 8.02984 0.916656 5.49525 0.916656ZM5.49984 9.16666C3.474 9.16666 1.83317 7.52582 1.83317 5.49999C1.83317 3.47416 3.474 1.83332 5.49984 1.83332C7.52567 1.83332 9.1665 3.47416 9.1665 5.49999C9.1665 7.52582 7.52567 9.16666 5.49984 9.16666Z" fill="#498DE1"/>
                                    </svg>
                                    
                             </span>
                             <span>
                                 About
                             </span>
                         </a>
                         <a href="#">
                       <span>
                        <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.375 7.90624V9.62499H3.09375L8.16292 4.55582L6.44417 2.83707L1.375 7.90624ZM9.81292 2.90582L8.09417 1.18707L6.93458 2.35124L8.65333 4.06999L9.81292 2.90582Z" fill="#498DE1"/>
                            </svg>
                            
                       </span>
                       <span>Switch</span>
                         </a>
                     </div>
                 </div>
             </div>
             </div>
         </div>
     </div>
 </div>

        <div class = "rightside" id = 'rightside' style = 'right: 0; top: 0;'>
        <div class = 'retractblock'>
        <img class = 'retractbutton'  onclick = "retract()" src = "{{url_for('static',filename='img/retractbuttonbackground.png')}}"/><img class = 'retractbuttonarrowright' id = 'rightarrow'  onclick = "retract()" src = "{{url_for('static',filename='img/retractbuttonarrow.png')}}"/></div>
        <div class = "rightabsolute">
        <div class = 'rightsidetitle'>Load Breakdown</div>
        <div class = 'tab'>
        <button class="category-l6cqYc avertacy-bold-sapphire-15px tablinks" id = "defaultOpen" onclick = "openCity(event, 'Category'); changeDotColourCategory();">Category</button>
        <button class="panel-l6cqYc avertacy-bold-sapphire-15px tablinks" onclick = "openCity(event, 'Panel'); changeDotColourPanel();">Panel</button>
        </div>
        <div id="Panel" class="tabcontent">
        <div class="energy-breakdown-l6cqYc">
                <div id="chart"></div>
        </div>
        <div class="x100-l6cqYc" id = 'percent3'></div>
        <div class="rectangle-2973-l6cqYc">
        <div class="rectangle-152-l6cqYc"></div>
        <div class="electrical-panels-l6cqYc2 avertacy-bold-sapphire-15px" style = 'color: #0D1758;'>Electrical Panels</div>

        {% for i in range(0, numpanels) %}

        <div class="rectangle-23402-l6cqYc">
        <div class="panel-a2-l6cqYc avertacy-bold-sapphire-12px" onclick = "openNav('{{panelnames[i]}}',{{i}});openCity2(event, 'Specs');">{{panelnames[i]}}</div>
        <div class="x43-l6cqYc avertacy-bold-sapphire-12px" id = "{{panelnames[i]}}"></div>
        <input type= 'checkbox' onclick = 'togglePanel("{{panelnames[i]}}", {{i}}); checkIf0();' class="rectangle-30242-l6cqYc"style = "background-color: {{colours[i]}};" id = 'panel1check'checked/><label for = 'panel1check'></label>
        <div class="info"onclick = "openNav('{{panelnames[i]}}',{{i}});openCity2(event, 'Specs');"><img class="info-image" src="{{url_for('static',filename='img/infoimage1.png')}}" onclick = "openNav('{{panelnames[i]}}',{{i}});openCity2(event, 'Specs');"/></div></div>
        <div class = 'panelpercent avertacy-bold-sapphire-12px'>{{panelpercent[i]}}%</div>

        {% endfor %}
    </div>
    </div>
            <div id = 'sidebar' class = 'sidebar'>
      <div class="frame-1 screen">
        <h1 class="title-VxPVnb"><span id = "panelletter"></span></h1>
        <div class = "tabss">
        <button class="circuits-VxPVnb avertacy-bold-sapphire-20px tablinksss" onclick = "openCity2(event, 'Circuits');currentSlide(1)">Circuits</button>
        <button id = 'specs' class="specs-VxPVnb tablinksss" onclick = "openCity2(event, 'Specs');currentSlide(1)">Specs</button></div>
        <div id="Specs" class="tabcontentss">
        <div class = 'mySlides'>
        <img class="panel1-image-1-VxPVnb" src="{{url_for('static',filename='img/panelimage1.jpg')}}" /><div class="photo-1-VxPVnb">Photo - 1</div></div>
        <div class = 'mySlides'>
        <img class="panel1-image-1-VxPVnb" src="{{url_for('static',filename='img/panelimage2.jpg')}}" /><div class="photo-1-VxPVnb">Photo - 2</div></div>
        <div class="group-7236-VxPVnb" onclick = "plusSlides(-1)">
          <div class="rectangle-2316-WT5zFx"></div>
          <div class="chevron-down-WT5zFx"><img class="vector-QZDvpC" src="{{url_for('static',filename='img/vector@222x.svg')}}" /></div>
        </div>
        <div class="group-7237-VxPVnb" onclick = "plusSlides(1)">
          <div class="rectangle-2316-ixtSxg"></div>
          <div class="chevron-down-ixtSxg"><img class="vector-KEByjY" src="{{url_for('static',filename='img/vector-1@222x.svg')}}" /></div>
        </div>
        <div class="group-VxPVnb" onclick = "closeNav();openCity2(event, 'KWH')"><img class="vector-JRdMbc" src="{{url_for('static',filename='img/vector-2@222x.svg')}}" /></div>
        <div class="rectangle-3377-VxPVnb"></div>
        <div class="rectangle-3378-VxPVnb"></div>
        <div class="rectangle-3379-VxPVnb"></div>
        <div class="rectangle-3380-VxPVnb"></div>
        <div class="rectangle-3381-VxPVnb"></div>
        <div class="rectangle-3382-VxPVnb"></div>
        <div class="voltage-VxPVnb avertacy-bold-sapphire-8px">Voltage</div>
        <div class="phase-VxPVnb avertacy-bold-sapphire-8px">Phase</div>
        <div class="type-VxPVnb avertacy-bold-sapphire-8px">Type</div>
        <div class="location-VxPVnb avertacy-bold-sapphire-8px">Location</div>
        <div class="ciruits-VxPVnb avertacy-bold-sapphire-8px">Ciruits</div>
        <div class="x120208-v-VxPVnb avertacy-bold-sapphire-20px">120/208V</div>
        <div class="x3-phase-VxPVnb avertacy-bold-sapphire-20px">3-Phase</div>
        <div class="type-q-VxPVnb avertacy-bold-sapphire-20px">Type-Q</div>
        <div class="shop-VxPVnb avertacy-bold-sapphire-20px">Shop</div>
        <div class="x52-VxPVnb avertacy-bold-sapphire-20px" id = 'circuitcount'></div>
    </div>
<div id="Circuits" class="tabcontentss">
        <div class = 'mySlides'>
        <img class="panel1-image-1-VxPVnb" src="{{url_for('static',filename='img/panelimage1.jpg')}}" /><div class="photo-1-VxPVnb">Photo - 1</div></div>
        <div class = 'mySlides'>
        <img class="panel1-image-1-VxPVnb" src="{{url_for('static',filename='img/panelimage2.jpg')}}" /><div class="photo-1-VxPVnb">Photo - 2</div></div>
        <div class="group-7236-VxPVnb" onclick = "plusSlides(-1)">
          <div class="rectangle-2316-WT5zFx"></div>
          <div class="chevron-down-WT5zFx"><img class="vector-QZDvpC" src="{{url_for('static',filename='img/vector@222x.svg')}}" /></div>
        </div>
        <div class="group-7237-VxPVnb" onclick = "plusSlides(1)">
          <div class="rectangle-2316-ixtSxg"></div>
          <div class="chevron-down-ixtSxg"><img class="vector-KEByjY" src="{{url_for('static',filename='img/vector-1@222x.svg')}}" /></div>
        </div>
        <div class="group-VxPVnb" onclick = "closeNav();openCity2(event, 'KWH')"><img class="vector-JRdMbc" src="{{url_for('static',filename='img/vector-2@222x.svg')}}" /></div>
        <div class="frame-1 screen">
        <div class="rectangle-3000-VxPVnb">
        <div class="rectangle-3001-VxPVnb"></div>
        {% for j in range (0, numpanels) %}
        {% for i in range(0, circuitcount[j]) %}
        <div class="rectangle-3002-VxPVnb {{panelnames[j]}}" style = 'display: none;'>
        <div class="x1-shop-lighting-1-VxPVnb avertacy-bold-sapphire-12px">{{panelcircuits.iloc[i][j]}}</div>
        </div>
        {% endfor %}
        {% endfor %}

    </div>
      </div>
    </div>
      </div>

    </div>
        <div id="Category" class="tabcontent categorytabcontent">
        <div class="energy-breakdown-l6cqYc">
                <div id="chart2"></div>
        </div>
        <div class="x100-l6cqYc"id = 'percent4'></div>
        <div class="rectangle-2973-l6cqYc">

        <div class="electrical-panels-l6cqYc avertacy-bold-sapphire-15px" style = 'color: #0D1758;'>Categories</div>
        <div class="rectangle-15-l6cqYc"></div>

        <div class="rectangle-2974-l6cqYc">
            <input type= 'checkbox' style = 'background-color: {{categoriesdf.iloc[0][2]}};' class="rectangle-3024-l6cqYc" id= 'panel1check' onclick= "toggleMaster('{{categoriesdf.iloc[0][0]}}'); checkIf0();" checked/><label for = 'panel1check'></label>
            <div class="panel-a-l6cqYc avertacy-bold-sapphire-12px">{{categoriesdf.iloc[0][0]}}</div>
            <div class="x12-l6cqYc avertacy-bold-sapphire-12px" id = '{{categoriesdf.iloc[0][4]}}'></div>
        </div>

        <div class="rectangle-2974-l6cqYc">
            <input type= 'checkbox' style = 'background-color: {{categoriesdf.iloc[1][2]}};' class="rectangle-3025-l6cqYc"id= 'panel2check' onclick= "toggleMaster('{{categoriesdf.iloc[1][0]}}'); checkIf0();" checked/><label for = 'panel2check'></label>
            <div class="panel-a-l6cqYc avertacy-bold-sapphire-12px">{{categoriesdf.iloc[1][0]}}</div>
            <div class="x12-l6cqYc avertacy-bold-sapphire-12px"  id = '{{categoriesdf.iloc[1][4]}}'></div>
        </div>

        <div class="rectangle-2974-l6cqYc">
            <input type= 'checkbox' style = 'background-color: {{categoriesdf.iloc[2][2]}};' class="rectangle-3026-l6cqYc"id= 'panel1check' onclick= "toggleMaster('{{categoriesdf.iloc[2][0]}}'); checkIf0();" checked/><label for = 'panel2check'></label>
            <div class="panel-a-l6cqYc avertacy-bold-sapphire-12px">{{categoriesdf.iloc[2][0]}}</div>
            <div class="x12-l6cqYc avertacy-bold-sapphire-12px" id = '{{categoriesdf.iloc[2][4]}}'></div>
        </div>

        <div class="rectangle-2974-l6cqYc">
            <input type= 'checkbox' style = 'background-color: {{categoriesdf.iloc[3][2]}};' class="rectangle-3027-l6cqYc"id= 'panel1check' onclick= "toggleMaster('{{categoriesdf.iloc[3][0]}}'); checkIf0();" checked/><label for = 'panel2check'></label>
            <div class="panel-a-l6cqYc avertacy-bold-sapphire-12px">{{categoriesdf.iloc[3][0]}}</div>
            <div class="x12-l6cqYc avertacy-bold-sapphire-12px" id = '{{categoriesdf.iloc[3][4]}}'></div>
        </div>

        <div class="rectangle-2974-l6cqYc">
            <input type= 'checkbox' style = 'background-color: {{categoriesdf.iloc[4][2]}};' class="rectangle-3028-l6cqYc"id= 'panel1check' onclick= "toggleMaster('{{categoriesdf.iloc[4][0]}}'); checkIf0(); " checked/><label for = 'panel1check'></label>
            <div class="panel-a-l6cqYc avertacy-bold-sapphire-12px">{{categoriesdf.iloc[4][0]}}</div>
            <div class="x12-l6cqYc avertacy-bold-sapphire-12px" id = '{{categoriesdf.iloc[4][4]}}'></div>
        </div>

        <div class="rectangle-2974-l6cqYc">
            <input type= 'checkbox' style = 'background-color: {{categoriesdf.iloc[5][2]}};' class="rectangle-3029-l6cqYc"id= 'panel1check' onclick= "toggleMaster('{{categoriesdf.iloc[5][0]}}'); checkIf0();" checked/><label for = 'panel1check'></label>
            <div class="panel-a-l6cqYc avertacy-bold-sapphire-12px">{{categoriesdf.iloc[5][0]}}</div>
            <div class="x12-l6cqYc avertacy-bold-sapphire-12px" id = '{{categoriesdf.iloc[5][4]}}'></div>
        </div>
    </div>
        </div>
    </div>
</div>
    <div class = 'historicalsavingsblock' id ='historicalblock'>
        <img class="historicalsavingsimage" src="{{url_for('static',filename='img/historicalsavingsimage.png')}}" />
        <div class = 'savingstext'>You saved a total energy of <span class = actualsavings>30%</span></div>
        <a href = "{{url_for('commercial.historicalusage', building_id=building_id)}}"><img class="seehistoricalimage" src="{{url_for('static',filename='img/seehistorical.png')}}" /></a>
        <div class = 'historicalblockretract'><img class = 'historicalarrow' id = 'historicalarrow' onclick = "retracthistorical()" src = "{{url_for('static',filename='img/historicalarrow.png')}}"/></div>

    </div>
   <div class = 'Live-Usage' id = 'Live-Usage'> 
   <div class = 'header' id = 'header'>
            <h1 class="title-l6cqYc">Live Usage</h1>
            <div class = 'viewselector'>
                <img class="categoryview" src="{{url_for('static',filename='img/bubbleviewimage.png')}}" />
                <img class="categoryview" src="{{url_for('static',filename='img/bar-image.png')}}" />
            </div>
            <div class="column-names">
                <div class = 'runningcolumn'>Running</div>
                <div class = 'percentcolumn'>Percentage</div>
                <div class = "tabss tabssusage" style = 'background-color: transparent;'>
                    <input type = 'radio' checked id = 'watts' name = 'liveusagedata' class="k-wh-l6cqYc tablinksss" onclick = " changeToKWH(); openCity2(event, 'KWH');"><label for = 'watts' class=k-wh-l6cqYc>Energy</label>
                    <input type = 'radio' id = 'cost' name = 'liveusagedata' class="x-l6cqYc tablinksss" onclick = " changeTo$(); openCity2(event, '$');" id = "defaultOpenss"><label for = 'cost' class = x-l6cqYc>Cost</label>
            </div>
            </div>
        </div>
        <div class = "scrollable" id = 'scrollable'>
        <div id="KWH" class="tabcontentss">
        {% set channelnum = namespace(value=0) %}
        {% for i in range(0, len) %}
        <div class="rectangle-3165-l6cqYc {{home_upgrades.iloc[i][5]}} {{home_upgrades.iloc[i][4]}}">
        <div class = 'categorycircle {{home_upgrades.iloc[i][5]}}colour {{home_upgrades.iloc[i][4]}}colour' ></div>
        <div class="lunchroom-lights-l6cqYc avertacy-bold-apple-11px" {% if home_upgrades.iloc[i][2] == 0 %} style = 'color: grey;'{% endif %}>{{home_upgrades.iloc[i][0]}}</div>
        <div class="x233hr-l6cqYc"{% if home_upgrades.iloc[i][2] == 0 %} style = ' color: grey;'{% endif %}>{{"%.2f"|format(home_upgrades.iloc[i][2]|float)}}w</div>
        <div class="rectangle-3184-l6cqYc" {% if home_upgrades.iloc[i][2] == 0 %} style = 'width: 2px; background-color: grey;'{% elif home_upgrades.iloc[i][2] > 0  %} style = 'width: {{250 * (home_upgrades.iloc[i][2]/total) + 5}}px;'{% endif %}>
        <div class="x21-Al4pJ9" {% if home_upgrades.iloc[i][2] == 0 %} style = 'left: {{250 * (home_upgrades.iloc[i][2]/total) + 5}}px; background-color: grey; color: grey;'{% elif home_upgrades.iloc[i][2] > 0  %} style = 'left: {{250 * (home_upgrades.iloc[i][2]/total) + 5}}px;'{% endif %}>{{"%.2f"|format(((home_upgrades.iloc[i][2]/ total) * 100)|float)}}%</div>
        </div>
        </div>
        {% set channelnum.value = channelnum.value + 1 %}
        {% endfor %}
        <div class="rectangle-3203-l6cqYc"  id = 'totalbar'>
        <div class="total-l6cqYc">Total</div>
        <div class="rectangle-3204-l6cqYc"><div class="x100-Al4pJ9"id = 'percentage'></div></div>
        <div class="x674hr-l6cqYc" id = 'total'></div></div>
    </div>
        <div id="$" class="tabcontentss cost">
        {% set channelnum = namespace(value=0) %}
        {% for i in range(0, pricelength) %}
        <div class="rectangle-3165-l6cqYc {{home_upgrades.iloc[i][5]}} {{home_upgrades.iloc[i][4]}}">
        <div class = 'categorycircle {{home_upgrades.iloc[i][5]}}colour {{home_upgrades.iloc[i][4]}}colour'></div>
        <div class="lunchroom-lights-l6cqYc avertacy-bold-apple-11px"{% if (price.iloc[i][2]) == 0 %} style = 'color: grey;'{% endif %}>{{price.iloc[i][0]}}</div>
        <div class="x233hr-l6cqYc" {% if price.iloc[i][2] == 0 %} style = 'color: grey;'{% endif %}>{% if price.iloc[i][2] >= 0.01 or price.iloc[i][2] == 0 %}{{"$%.2f"|format(price.iloc[i][2]|float)}}/hr {% endif %} {% if price.iloc[i][2] < 0.01 and price.iloc[i][2] > 0 %}>$0.01/hr {% endif %} </div>
        <div class="rectangle-3184-l6cqYc" {% if price.iloc[i][2] == 0 %} style = 'width: 2px; background-color: grey;'{% elif price.iloc[i][2]> 0  %} style = 'width: {{250 * (price.iloc[i][2]/totalprice) + 5}}px;'{% endif %}>
        <div class="x21-Al4pJ9" {% if price.iloc[i][2] == 0 %} style = 'left: {{250 * (price.iloc[i][2]/totalprice) + 5}}px; background-color: grey; color: grey;'{% elif price.iloc[i][2] > 0  %} style = 'left: {{250 * (price.iloc[i][2]/totalprice) + 5}}px;'{% endif %}>{{"%.2f"|format(((price.iloc[i][2]/ totalprice) * 100)|float)}}%</div></div></div>
        {% set channelnum.value = channelnum.value + 1 %}
        {% endfor %}
        <div class="rectangle-3203-l6cqYc" id = 'totalbar2'>
        <div class="total-l6cqYc">Total</div>
        <div class="rectangle-3204-l6cqYc"><div class="x100-Al4pJ9"id = 'percent2'></div></div>
        <div class="x674hr-l6cqYc" id = 'totalprice'></div></div>
    </div>
        </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    var options = {
                              labels: ["Panel 1-A", "Panel 1-B", "DHW", "Mechanical"],
                              series: [{{paneltotal[0]}},{{paneltotal[1]}}],
                              chart: {
                              width: 200,
                              height: 200,
                              type: 'donut',
                            },
                            dataLabels: {
                              enabled: false
                            },
                            tooltip:{
                                enabled: false
                            },
                            legend: {
                                position: 'bottom',
                                show:false
                            },

                            colors:['#3649A8','#3BCDEE','#EE5937', '#EE8F37','#90C449','#DBE2F3'],

                            responsive: [{
                              breakpoint: 480,
                              options: {
                                chart: {
                                  width: 300
                                },
                              }
                            }]
                            };
                            var chart1 = new ApexCharts(document.querySelector("#chart"), options);
                            chart1.render();
                            var options = {
                              labels: ["Lighting", "Equipment", "HVAC", "Plug Load", "Hot Water", "Other"],
                              series: [{{lighttotal}},{{equipmenttotal}},{{hvactotal}},{{plugtotal}},{{watertotal}},{{othertotal}}],
                              chart: {
                              width: 200,
                              height: 200,
                              type: 'donut',
                            },
                            dataLabels: {
                              enabled: false
                            },
                            tooltip:{
                                enabled: false
                            },
                            legend: {
                                position: 'bottom',
                                show:false
                            },

                            colors:['#3649A8','#3BCDEE','#EE5937', '#EE8F37','#90C449','#DBE2F3'],
                            responsive: [{
                              breakpoint: 480,
                              options: {
                                chart: {
                                  width: 300
                                },
                              }
                            }]
                            };
                            var chart2 = new ApexCharts(document.querySelector("#chart2"), options);
                            chart2.render();

  </script>
    <script>
      function changeDotColourPanel(){
       var colours = {{colours | tojson}};
       var x = {{numpanels}};
       var panelnames = {{panelnames | tojson}};
       var i;
       for(i = 0; i < x; i++){
         var j = document.getElementsByClassName(panelnames[i] + 'colour');
         for(var l = 0; l < j.length; l++){
             j[l].style.backgroundColor = colours[i];
         }
       }
       }
       function changeDotColourCategory(){
       var colours = {{colours | tojson}};
       var x = 6;
       var categorynames = ['lighting','equipment','hvac','plugload','hotwater','other'];
       var i;
       for(i = 0; i < x; i++){
         var j = document.getElementsByClassName(categorynames[i] + 'colour');
         for(var l = 0; l < j.length; l++){
             j[l].style.backgroundColor = colours[i];
         }
       }
       }
  </script>
  <script>
    var panelnumber = 0;
    var circuitcount = {{circuitcount}};
    function openNav(panel, number) {
  document.getElementById("sidebar").style.width = "600px";
  document.getElementById("sidebar").style.boxShadow  = "0 0 0 10000px rgba(0,0,0,.50)";
  document.getElementById("panelletter").innerHTML = panel;
  document.getElementById("circuitcount").innerHTML = circuitcount[number];
  var x = document.getElementsByClassName(panel);
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  }
}

}

/* Set the width of the sidebar to 0 and the left margin of the page content to 0 */
function closeNav() {  
    document.getElementById("sidebar").style.boxShadow  = "0 0 0 0px rgba(0,0,0,.50)";
    document.getElementById("sidebar").style.width = "0";
    var x = document.getElementsByClassName('rectangle-3002-VxPVnb');
      var i;
      for (i = 0; i < x.length; i++) {
        if (x[i].style.display === "block") {
        x[i].style.display = "none";
      }
    }
    }

    function retractleft() {
    if(document.getElementById("leftretract").style.width != "80px"){
  document.getElementById("leftretract").style.width = "80px";
  document.getElementById("dashboard").style.color = "white";
  document.getElementById("liveusage").style.color = "white";
  document.getElementById("historical").style.color = "white";
  document.getElementById("inventory").style.color = "white";
  document.getElementById("utilities").style.color = "white";
  document.getElementById("logout").style.color = "white";
  document.getElementById("leftbutton").style.left = "57px";
  document.getElementById("leftarrow").style.left = "64px";
  document.getElementById("leftarrow").style.transform = "rotate(0.5turn)";
  document.getElementById("logoimage").src = "{{url_for('static',filename='img/logosmall.png')}}";
  document.getElementById("logodiv").style.left = "15px";
  document.getElementById("imageblock").style.display = "none";

  if(document.getElementById("rightside").style.width != "40px"){
      document.getElementById("Live-Usage").style.width = "912px";
      document.getElementById("header").style.width = "912px";
      document.getElementById("scrollable").style.width = "912px";
      document.getElementById("historicalblock").style.width = "912px";
      document.getElementById("totalbar").style.width = "882.24px";
      document.getElementById("totalbar2").style.width = "882.24px";
      document.getElementById("Live-Usage").style.left = "152px";;
      document.getElementById("historicalblock").style.left = "152px";;
      document.getElementById("totalbar").style.left = "172px";
      document.getElementById("totalbar2").style.left = "172px";
  }

    else if(document.getElementById("rightside").style.width == "40px"){
      document.getElementById("Live-Usage").style.width = "1300px";
      document.getElementById("header").style.width = "1300px";
      document.getElementById("scrollable").style.width = "1300px";
      document.getElementById("historicalblock").style.width = "1300px";
      document.getElementById("totalbar").style.width = "1248px";
      document.getElementById("totalbar2").style.width = "1248px";
      document.getElementById("Live-Usage").style.left = "152px";
      document.getElementById("historicalblock").style.left = "152px";
      document.getElementById("totalbar").style.left = "172px";
      document.getElementById("totalbar2").style.left = "172px";
  }
}
else{
  document.getElementById("leftretract").style.width = "248px";
  document.getElementById("dashboard").style.color = "#AFB8CC";
  document.getElementById("liveusage").style.color = "#6285FB";
  document.getElementById("historical").style.color = "#AFB8CC";
  document.getElementById("inventory").style.color = "#AFB8CC";
  document.getElementById("utilities").style.color = "#AFB8CC";
  document.getElementById("logout").style.color = "#AFB8CC";
  document.getElementById("leftbutton").style.left = "225px";
  document.getElementById("leftarrow").style.left = "232px";
  document.getElementById("leftarrow").style.transform = "rotate(1turn)";
  document.getElementById("logoimage").src = "{{url_for('static',filename='img/logoimage.png')}}";
  document.getElementById("logodiv").style.left = "33px";
  document.getElementById("imageblock").style.display = "block";

  if(document.getElementById("rightside").style.width != "40px"){
      document.getElementById("Live-Usage").style.width = "744px";
      document.getElementById("historicalblock").style.width = "744px";
      document.getElementById("header").style.width = "744px";
      document.getElementById("scrollable").style.width = "744px";
      document.getElementById("totalbar").style.width = "714.24px";
      document.getElementById("totalbar2").style.width = "714.24px";
      document.getElementById("Live-Usage").style.left = "320px";
      document.getElementById("historicalblock").style.left = "320px";
      document.getElementById("totalbar").style.left = "340px";
      document.getElementById("totalbar2").style.left = "340px";
    }
    else if(document.getElementById("rightside").style.width == "40px"){
      document.getElementById("Live-Usage").style.width = "1150px";
      document.getElementById("historicalblock").style.width = "1150px";
      document.getElementById("header").style.width = "1150px";
      document.getElementById("scrollable").style.width = "1150px";
      document.getElementById("totalbar").style.width = "1119px";
      document.getElementById("totalbar2").style.width = "1119px";
      document.getElementById("Live-Usage").style.left = "320px";
      document.getElementById("historicalblock").style.left = "320px";
      document.getElementById("totalbar").style.left = "340px";
      document.getElementById("totalbar2").style.left = "340px";
    }
    }
}

    function retract() {
    if(document.getElementById("rightside").style.width != "40px"){
  document.getElementById("rightside").style.width = "40px";
  document.getElementById("rightarrow").style.transform = "rotate(1turn)";

  if(document.getElementById("leftretract").style.width != "80px"){
      document.getElementById("Live-Usage").style.width = "1150px";
      document.getElementById("historicalblock").style.width = "1150px";
      document.getElementById("header").style.width = "1150px";
      document.getElementById("scrollable").style.width = "1150px";
      document.getElementById("totalbar").style.width = "1119px";
      document.getElementById("totalbar2").style.width = "1119px";
    }
  else if(document.getElementById("leftretract").style.width == "80px"){
      document.getElementById("Live-Usage").style.width = "1300px";
      document.getElementById("historicalblock").style.width = "1300px";
      document.getElementById("header").style.width = "1300px";
      document.getElementById("scrollable").style.width = "1300px";
      document.getElementById("totalbar").style.width = "1248px";
      document.getElementById("totalbar2").style.width = "1248px";
      document.getElementById("Live-Usage").style.left = "152px";;
      document.getElementById("totalbar").style.left = "172px";
      document.getElementById("totalbar2").style.left = "172px";
  }
}
else{
      document.getElementById("rightside").style.width = "400px";
      document.getElementById("rightarrow").style.transform = "rotate(0.5turn)";
      if(document.getElementById("leftretract").style.width != "80px"){
          document.getElementById("Live-Usage").style.width = "744px";
          document.getElementById("historicalblock").style.width = "744px";
          document.getElementById("header").style.width = "744px";
          document.getElementById("scrollable").style.width = "744px";
          document.getElementById("totalbar").style.width = "714.24px";
          document.getElementById("totalbar2").style.width = "714.24px";
      }
  else if(document.getElementById("leftretract").style.width == "80px"){
          document.getElementById("Live-Usage").style.width = "912px";
          document.getElementById("historicalblock").style.width = "912px";
          document.getElementById("header").style.width = "912px";
          document.getElementById("scrollable").style.width = "912px";
          document.getElementById("totalbar").style.width = "882.24px";
          document.getElementById("totalbar2").style.width = "882.24px";
          document.getElementById("Live-Usage").style.left = "152px";
          document.getElementById("historicalblock").style.left = "152px";
          document.getElementById("totalbar").style.left = "172px";
          document.getElementById("totalbar2").style.left = "172px";
  }
}
}

function retracthistorical(){
    if(document.getElementById("historicalblock").style.height != "40px"){
    document.getElementById("historicalblock").style.height = "40px";
    document.getElementById("historicalarrow").style.transform = "rotate(0.25turn)";
    document.getElementById("historicalarrow").style.left = "8px";
    document.getElementById("Live-Usage").style.height = "722px";
    document.getElementById("scrollable").style.height = "566px";
    document.getElementById("Live-Usage").style.top = "60px";
}
    else{
        document.getElementById("historicalblock").style.height = "100px";
        document.getElementById("historicalarrow").style.transform = "rotate(0.75turn)";
        document.getElementById("historicalarrow").style.left = "7px";
        document.getElementById("Live-Usage").style.height = "662px";
        document.getElementById("scrollable").style.height = "506px";
        document.getElementById("Live-Usage").style.top = "120px";
    }
}
      function openCity(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
document.getElementById("defaultOpen").click();


      function openCity2(evt, cityName) {
  // Declare all variables
  var i, tabcontentss, tablinksss;

  // Get all elements with class="tabcontent" and hide them
  tabcontentss = document.getElementsByClassName("tabcontentss");
  for (i = 0; i < tabcontentss.length; i++) {
    tabcontentss[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinksss = document.getElementsByClassName("tablinksss");
  for (i = 0; i < tablinksss.length; i++) {
    tablinksss[i].className = tablinksss[i].className.replace(" activess", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " activess";
}


var slideIndex = 1;
showSlides(slideIndex);

// Next/previous controls
function plusSlides(n) {
  showSlides(slideIndex += n);
}

// Thumbnail image controls
function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " active";
}
  </script>
  <script>
    var newtotal = 0;
    var newtotalprice = 0;
    var newpercent = 0;
    var colors = ['{{colours[0]}}','{{colours[1]}}','{{colours[2]}}','{{colours[3]}}','{{colours[4]}}','{{colours[5]}}'];
    var colors2 = ['{{colours[0]}}','{{colours[1]}}','{{colours[2]}}','{{colours[3]}}','{{colours[4]}}','{{colours[5]}}'];

function toggleMaster(category){
    if(category == 'Lighting'){
        toggleLighting();
    }
    if(category == 'Plug Load'){
        togglePlugLoad();
    }
    if(category == 'HVAC'){
        toggleHVAC();
    }
    if(category == 'Equipment'){
        toggleEquipment();
    }
    if(category == 'Hot Water'){
        toggleHotWater();
    }
    if(category == 'Other'){
        toggleOther();
    }
}


    function toggleLighting() {
  var x = document.getElementsByClassName("lighting");
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
}
  if (x[0].style.display === "none") {
    newtotal = (newtotal - {{lighttotal}});
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{lightprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - {{lightpercent}});
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    removeLighting();
    chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  } else {
    newtotal = (newtotal - -Math.abs({{lighttotal}}));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{lightprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs({{lightpercent}}));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    addLighting();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  }
}
function toggleEquipment() {
  var x = document.getElementsByClassName("equipment");
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
  }
    if (x[0].style.display === "none") {
    newtotal = (newtotal - {{equipmenttotal}});
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{equipmentprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - {{equipmentpercent}});
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    removeEquipment();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  } else {
    newtotal = (newtotal - -Math.abs({{equipmenttotal}}));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{equipmentprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs({{equipmentpercent}}));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    addEquipment();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  }
}
function toggleHVAC() {
  var x = document.getElementsByClassName("hvac");
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
  }
      if (x[0].style.display === "none") {
    newtotal = (newtotal - {{hvactotal}});
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{hvacprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - {{hvacpercent}});
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    removeHVAC();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  } else {
    newtotal = (newtotal - -Math.abs({{hvactotal}}));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{hvacprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs({{hvacpercent}}));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    addHVAC();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  }
}
function togglePlugLoad() {
  var x = document.getElementsByClassName("plugload");
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
  }
      if (x[0].style.display === "none") {
    newtotal = (newtotal - {{plugtotal}});
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{plugprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - {{plugpercent}});
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    removePlug();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  } else {
    newtotal = (newtotal - -Math.abs({{plugtotal}}));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{plugprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs({{plugpercent}}));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    addPlug();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  }
}
function toggleHotWater() {
  var x = document.getElementsByClassName("hotwater");
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
  }
      if (x[0].style.display === "none") {
    newtotal = (newtotal - {{watertotal}});
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{waterprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - {{waterpercent}});
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    removeWater();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  } else {
    newtotal = (newtotal - -Math.abs({{watertotal}}));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{waterprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs({{waterpercent}}));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    addWater();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  }
}
function toggleOther() {
  var x = document.getElementsByClassName("other");
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
  }
      if (x[0].style.display === "none") {
    newtotal = (newtotal - {{othertotal}});
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{otherprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - {{otherpercent}});
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    removeOther();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})
  } else {
    newtotal = (newtotal - -Math.abs({{othertotal}}));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{otherprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs({{otherpercent}}));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    addOther();
        chart2.updateOptions({
  colors: [colors[0],colors[1],colors[2],colors[3],colors[4],colors[5]]
})

  }
}

function togglePanel(panelname, num) {
  var x = document.getElementsByClassName(panelname);
  var paneltotal = {{paneltotal | tojson}};
  var panelpercent = {{panelpercent | tojson}};
  var i;
  for (i = 0; i < x.length; i++) {
    if (x[i].style.display === "none") {
    x[i].style.display = "block";
  } else {
    x[i].style.display = "none";
  }
}
  if (x[0].style.display === "none") {
    newtotal = (newtotal - -Math.abs(paneltotal[num]));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - {{lightprice}});
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - -Math.abs(panelpercent[num]));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    colors2[num] = colors[num];
    chart1.updateOptions({
  colors: [colors2[0],colors2[1],colors2[2],colors2[3],colors2[4],colors2[5]]
})
  } else {
    newtotal = (newtotal - Math.abs(paneltotal[num]));
    document.getElementById("total").innerHTML = Math.abs(newtotal).toFixed(2) + 'w';
    newtotalprice = (newtotalprice - -Math.abs({{lightprice}}));
    document.getElementById("totalprice").innerHTML = '$' + Math.abs(newtotalprice).toFixed(2) + '/hr';
    newpercent = (newpercent - Math.abs(panelpercent[num]));
    document.getElementById("percentage").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent2").innerHTML = Math.abs(newpercent).toFixed(2) + '%';
    document.getElementById("percent3").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    document.getElementById("percent4").innerHTML = Math.abs(newpercent).toFixed(2) + "<span style = 'font-size: 12px;'>%</span>";
    colors2[num] = '#FFFFFF';
        chart1.updateOptions({
  colors: [colors2[0],colors2[1],colors2[2],colors2[3],colors2[4],colors2[5]]
})
  }
}

function getTotal() {
  newtotal = {{"%.2f"|format(total)|float}};
  document.getElementById("total").innerHTML = newtotal + 'w';
  newtotalprice = {{"%.2f"|format(totalprice)|float}}
  document.getElementById("totalprice").innerHTML = '$' + newtotalprice + '/hr';
  newpercent = 100;
  document.getElementById("percentage").innerHTML = newpercent + '%';
  document.getElementById("percent2").innerHTML = newpercent + '%';
  document.getElementById("percent3").innerHTML = newpercent + "<span style = 'font-size: 12px;'>%</span>";
  document.getElementById("percent4").innerHTML = newpercent + "<span style = 'font-size: 12px;'>%</span>";
}
function resetVariables(){
  newtotal = 0;
  newtotalprice = 0;
  newpercent = 0;
}
  </script>
  <script>
    function removeLighting() {
        colors[0] = '#FFFFFF'
      }
      function removeEquipment() {
        colors[1] = '#FFFFFF'
      }
      function removeHVAC() {
        colors[2] = '#FFFFFF'
      }
      function removePlug() {
        colors[3] = '#FFFFFF'
      }
      function removeWater() {
        colors[4] = '#FFFFFF'
      }
      function removeOther() {
        colors[5] = '#FFFFFF'
      }
  </script>
    <script>
    function addLighting() {
        colors[0] = '#3649A8'
      }
      function addEquipment() {
        colors[1] = '#3BCDEE'
      }
      function addHVAC() {
        colors[2] = '#EE5937'
      }
      function addPlug() {
        colors[3] = '#EE8F37'
      }
      function addWater() {
        colors[4] = '#90C449'
      }
      function addOther() {
        colors[5] = '#DBE2F3'
      }
  </script>
  <script>
    function changeToKWH(){
    document.getElementById('KWH').style.display = 'block';
    document.getElementById('$').style.display = 'none';
    document.getElementById("chartLight").innerHTML = {{lighttotal}}.toFixed(2) + 'w';
    document.getElementById("chartWater").innerHTML = {{watertotal}}.toFixed(2) + 'w';
    document.getElementById("chartOther").innerHTML = {{othertotal}}.toFixed(2) + 'w';
    document.getElementById("chartPlug").innerHTML = {{plugtotal}}.toFixed(2) + 'w';
    document.getElementById("chartEquipment").innerHTML = {{equipmenttotal}}.toFixed(2) + 'w';
    document.getElementById("chartHVAC").innerHTML = {{hvactotal}}.toFixed(2) + 'w';
    }
    function changeTo$(){
    document.getElementById('KWH').style.display = 'none';
    document.getElementById('$').style.display = 'block';
    document.getElementById("chartLight").innerHTML = '$' + {{lightprice}}.toFixed(2) + '/hr';
    document.getElementById("chartWater").innerHTML = '$' + {{waterprice}}.toFixed(2) + '/hr';
    document.getElementById("chartOther").innerHTML = '$' + {{otherprice}}.toFixed(2) + '/hr';
    document.getElementById("chartPlug").innerHTML = '$' + {{plugprice}}.toFixed(2) + '/hr';
    document.getElementById("chartEquipment").innerHTML = '$' + {{equipmentprice}}.toFixed(2) + '/hr';
    document.getElementById("chartHVAC").innerHTML = '$' + {{hvacprice}}.toFixed(2) + '/hr';
    }
  </script>
  <script>
    function checkIf0(){
        if(colors[0] == '#FFFFFF' && colors[1] == '#FFFFFF' && colors[2] == '#FFFFFF' && colors[3] == '#FFFFFF' && colors[4] == '#FFFFFF' && colors[5] == '#FFFFFF'){
              document.getElementById("total").innerHTML = 0 + 'w';
              document.getElementById("totalprice").innerHTML = '$' + 0 + '/hr';
              document.getElementById("percentage").innerHTML = 0 + '%';
              document.getElementById("percent2").innerHTML = 0 + '%';
              document.getElementById("percent3").innerHTML = 0 + "<span style = 'font-size: 12px;'>%</span>";
              document.getElementById("percent4").innerHTML = 0 + "<span style = 'font-size: 12px;'>%</span>";
                    }
    }
  </script>
  <script>
    function populatePanel(){
    var x = {{numpanels}}
    var i;
      for (i = 1; i < x.length; i++) {
        var arr = chart1.w.global.series.slice()
        arr.push({{paneltotal[i]}})
        chart1.updateSeries(arr)
      }
  }
  </script>

</html>
