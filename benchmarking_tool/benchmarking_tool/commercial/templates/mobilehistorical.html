<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/mobilehistorical.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/styleguide.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='css/globals.css')}}" />
    <link rel="manifest" href="{{url_for('static',filename='scripts/manifest.webmanifest')}}" />
    <!-- ios support -->
    <link rel="apple-touch-icon" href="images/icons/icon-72x72.png">
    <link rel="apple-touch-icon" href="images/icons/icon-96x96.png">
    <link rel="apple-touch-icon" href="images/icons/icon-128x128.png">
    <link rel="apple-touch-icon" href="images/icons/icon-144x144.png">
    <link rel="apple-touch-icon" href="images/icons/icon-152x152.png">
    <link rel="apple-touch-icon" href="images/icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="images/icons/icon-384x384.png">
    <link rel="apple-touch-icon" href="images/icons/icon-512x512.png">
    <meta name="apple-mobile-web-app-status-bar" content="#db4938">
    <meta name="theme-color" content="#db4938">
        <script src="https://cdn.jsdelivr.net/npm/apexcharts" type="text/javascript"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <title>Opti -mized</title>
  </head>
  <body onload = 'getTotal(); createBarChart("energy");'>
    <main>
      <nav>
          <div class="arrowLeft">
            <a href="#">
              <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_7_3183)"> <path d="M9.66669 14.5L16.9167 21.75L18.6204 20.0463L13.0863 14.5L18.6204 8.95375L16.9167 7.25L9.66669 14.5Z" fill="#0D1758"></path></g>
                <defs><clipPath id="clip0_7_3183"><rect width="29" height="29" fill="white" transform="translate(0 29) rotate(-90)"></rect></clipPath></defs>
              </svg>
            </a>
          </div>
            <h2>Past Use</h2>
          
      </nav>
      <div class="container">

        <div class="topBlock">
            <div class="tabBlock">
                <ul>
                    <li><a href="#" class="active">Day</a></li>
                    <li><a href="#">Week</a></li>
                    <li><a href="#">Month</a></li>
                </ul>
            </div>
            <div class="tabBlock-icon">
                <a href="#">
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.4 4.2H1.6C2.37 4.2 3 4.83 3 5.6V12.6C3 13.37 2.37 14 1.6 14H1.4C0.63 14 0 13.37 0 12.6V5.6C0 4.83 0.63 4.2 1.4 4.2ZM7 0C7.77 0 8.4 0.63 8.4 1.4V12.6C8.4 13.37 7.77 14 7 14C6.23 14 5.6 13.37 5.6 12.6V1.4C5.6 0.63 6.23 0 7 0ZM12.6 8C13.37 8 14 8.63 14 9.4V12.6C14 13.37 13.37 14 12.6 14C11.83 14 11.2 13.37 11.2 12.6V9.4C11.2 8.63 11.83 8 12.6 8Z" fill="#B0BFE5"/>
                    </svg>
                </a>
                <a href="#" class="active">  
                    <svg width="19" height="12" viewBox="0 0 19 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 1L11 9.5L7 5L1 11" stroke="#B0BFE5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>     

            </div>
        </div>
        <form onsubmit="" method="POST" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <div class="group-7286-L7BXHD" style="color: #3044A5; width: 50%; border-radius: 8px; height: 30px; padding-top: 5px; margin-left: auto; margin-right: auto; margin-bottom: 10px;">
            <!-- <input onchange="submit(); getTotal();" name="date" id="today2" type="date" class="march-18th-2021-tkyWp6" value="2022-03-06">-->
            <!-- modifications started -->
            <!-- WIP -->
           
            <article class="date-carousel" style="color: #3044A5; font-weight: 700">
                <button class="prev-day btn btn-outline-secondary" style="color: #3044A5; font-weight: 700"><i class="fa fa-angle-left" aria-hidden='true'></i></button>
                <input onchange= "submit();" type='text' id='datepicker' name='datepicker' style="color: #3044A5; font-weight: 700">
                <button class='next-day btn btn-outline-secondary' style="color: #3044A5; font-weight: 700"><i class='fa fa-angle-right' aria-hidden='true'></i></button>
            </article>
            <!-- modifications started -->
          </div>
        </form>
        <div class="total-block">    
          <div class="total-box"><span>$</span><span class="totalwhole" id = 'totalprice-whole' >12</span><span class="decimal-span" id="totalprice-decimal">.82</span><div class="total-box-line">Costs</div></div>

          <div class="total-box"><span class="totalwhole" id = 'total-whole'>13</span><span class="decimal-span" id="total-decimal">.44</span><span class="kwh-total">kWh</span><div class="total-box-line">Usage</div></div>

          <div class="total-box"><span class="totalwhole"  id = 'emission-whole'>6</span><span class="decimal-span" id="emission-decimal">.09</span><span class="kwh-total">kg/CO2</span><div class="total-box-line">Emissions</div></div>
        </div>


        <div class="chart-figma">
      <div class="chart-figma__container">
        <div class="chart-xaxis">
          <div class="morning" id = morning>
              <p class="title">12 am</p>
              <svg class="icon-svg-day" width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.9999 10.79C18.8426 12.4922 18.2038 14.1144 17.1581 15.4668C16.1125 16.8192 14.7034 17.8458 13.0956 18.4265C11.4878 19.0073 9.74789 19.1181 8.0794 18.7461C6.41092 18.3741 4.8829 17.5345 3.67413 16.3258C2.46536 15.117 1.62584 13.589 1.25381 11.9205C0.881777 10.252 0.992617 8.51208 1.57336 6.9043C2.15411 5.29651 3.18073 3.88737 4.53311 2.84175C5.8855 1.79614 7.5077 1.15731 9.2099 1C8.21331 2.34827 7.73375 4.00945 7.85843 5.68141C7.98312 7.35338 8.70376 8.92506 9.8893 10.1106C11.0748 11.2961 12.6465 12.0168 14.3185 12.1415C15.9905 12.2662 17.6516 11.7866 18.9999 10.79V10.79Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                
          </div>
          <div class="afternoon" id = afternoon>
            <p class="title">noon</p>
            <svg class="icon-svg-day" width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 1V3" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 21V23" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4.21973 4.21997L5.63973 5.63997" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M18.3604 18.36L19.7804 19.78" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12H3" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M21 12H23" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4.21973 19.78L5.63973 18.36" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M18.3604 5.63997L19.7804 4.21997" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                
          </div>
          <div class="night" id = night>
            <p class="title">12 am</p>
            <svg class="icon-svg-day" width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.9999 10.79C18.8426 12.4922 18.2038 14.1144 17.1581 15.4668C16.1125 16.8192 14.7034 17.8458 13.0956 18.4265C11.4878 19.0073 9.74789 19.1181 8.0794 18.7461C6.41092 18.3741 4.8829 17.5345 3.67413 16.3258C2.46536 15.117 1.62584 13.589 1.25381 11.9205C0.881777 10.252 0.992617 8.51208 1.57336 6.9043C2.15411 5.29651 3.18073 3.88737 4.53311 2.84175C5.8855 1.79614 7.5077 1.15731 9.2099 1C8.21331 2.34827 7.73375 4.00945 7.85843 5.68141C7.98312 7.35338 8.70376 8.92506 9.8893 10.1106C11.0748 11.2961 12.6465 12.0168 14.3185 12.1415C15.9905 12.2662 17.6516 11.7866 18.9999 10.79V10.79Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
          </div>
        </div>
      </div>
    </div>
<script src="{{url_for('static',filename='scripts/code.js', version= correctdate)}}"></script>
        <div class = Historical-Usage-Block id = 'Historical-Usage-Block'>
         <div class = 'header' id = 'header'>
          <div class="column-names">
              <div class = 'runningcolumn'>Circuit</div>
              <div class = 'percentcolumn'>Percentage</div>
              <div class = "tabss tabssusage" style = 'background-color: transparent;'>
                  <input type = 'radio' checked id = 'watts' name = 'liveusagedata' class="k-wh-l6cqYc tablinksss" onclick ="changeUnits();createBarChart('energy');"><label for = 'watts' class=k-wh-l6cqYc>Energy</label>
                  <input type = 'radio' id = 'cost' name = 'liveusagedata' class="x-l6cqYc tablinksss" id = "defaultOpenss" onclick = 'changeUnits();createBarChart("cost");'><label for = 'cost' class = x-l6cqYc>Cost</label>
          </div>
          </div>
      </div>

        <div class = scrollable id = 'scrollable'>
        <div class = 'Energy' id = 'circuits'>  
      {% for i in range(0, numcircuits) %}
        <div class='rectangle-3165-L7BXHD {{categories[i]}}rectangle {{strippedPanels[i]}}rectangle' id = '{{channel_names[i]}}' onclick = 'exploreCircuit("{{channel_names[i]}}");'>
        <div class = 'categorycircle {{categories[i]}}colour {{strippedPanels[i]}}colour'></div>

        <div class="lunchroom-lights-L7BXHD avertacy-bold-sapphire-11px {{categories[i]}} {{strippedPanels[i]}}">{{channel_names[i]}}</div>

        <div class="x345-L7BXHD avertacy-bold-sapphire-11px {{categories[i]}}value {{strippedPanels[i]}}value {{categories[i]}} {{strippedPanels[i]}}">{{usage[i]}} kWH</div>

        <div class="rectangle-3184-L7BXHD {{categories[i]}}colour {{strippedPanels[i]}}colour" style= "width: {{percent[i]}}px;">

          <div class="x21-L7BXHD avertacy-bold-sapphire-11px {{categories[i]}} {{strippedPanels[i]}}" style = "left: {{percent[i] + 5}}px;">{{percent[i]}}%</div></div>

        <div class = 'explore-image-box' id = '{{channel_names[i]}}image'  onclick = "createChart('{{channel_names[i]}}',{{i}}, '{{strippedPanels[i]}}', '{{categories[i]}}', '{{percent[i]}}');"><img class="explore-image" src="{{url_for('static',filename='img/explore-image.png')}}" /></div>  
        
    </div>

        {% endfor %}
    </div>
  </div>
  </div>

      </div>
      <footer>
        <ul class="footerLinks">
            <li>
                <a href="#">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M3 12H9C9.55 12 10 11.55 10 11V3C10 2.45 9.55 2 9 2H3C2.45 2 2 2.45 2 3V11C2 11.55 2.45 12 3 12ZM3 22H9C9.55 22 10 21.55 10 21V17C10 16.45 9.55 16 9 16H3C2.45 16 2 16.45 2 17V21C2 21.55 2.45 22 3 22ZM15 22H21C21.55 22 22 21.55 22 21V13C22 12.45 21.55 12 21 12H15C14.45 12 14 12.45 14 13V21C14 21.55 14.45 22 15 22ZM14 3V7C14 7.55 14.45 8 15 8H21C21.55 8 22 7.55 22 7V3C22 2.45 21.55 2 21 2H15C14.45 2 14 2.45 14 3Z" stroke="#AFB8CC" stroke-width="2"></path>
                </svg> 
                <span>Overview</span>
              </a>
            </li>
            <li>
               <a href="#" class="active">
                 <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20.5 7L13.5 15.5L9.5 11L3.5 17" stroke="#AFB8CC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                 </svg>
                <span>Data Steam</span>
              </a>
            </li>
            <li>
              <a href="#">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 15.9999V7.9999C20.9996 7.64918 20.9071 7.30471 20.7315 7.00106C20.556 6.69742 20.3037 6.44526 20 6.2699L13 2.2699C12.696 2.09437 12.3511 2.00195 12 2.00195C11.6489 2.00195 11.304 2.09437 11 2.2699L4 6.2699C3.69626 6.44526 3.44398 6.69742 3.26846 7.00106C3.09294 7.30471 3.00036 7.64918 3 7.9999V15.9999C3.00036 16.3506 3.09294 16.6951 3.26846 16.9987C3.44398 17.3024 3.69626 17.5545 4 17.7299L11 21.7299C11.304 21.9054 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9054 13 21.7299L20 17.7299C20.3037 17.5545 20.556 17.3024 20.7315 16.9987C20.9071 16.6951 20.9996 16.3506 21 15.9999Z" stroke="#AFB8CC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>  
                <span>Inventory</span>
              </a>
           </li>
             <li>
              <a href="#">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 22C16.1175 22 19.5 18.737 19.5 14.549C19.5 13.521 19.4475 12.419 18.8775 10.706C18.3075 8.993 18.193 8.772 17.5905 7.714C17.333 9.8725 15.9555 10.7725 15.6055 11.0415C15.6055 10.7615 14.7725 7.668 13.509 5.8165C12.2685 4 10.5815 2.8085 9.5925 2C9.5925 3.535 9.161 5.817 8.5425 6.98C7.9245 8.1425 7.8085 8.185 7.036 9.05C6.264 9.915 5.9095 10.1825 5.2635 11.2325C4.618 12.2825 4.5 13.681 4.5 14.709C4.5 18.897 7.8825 22 12 22Z" stroke="#AFB8CC" stroke-width="2" stroke-linejoin="round"></path>
                </svg>
                <span> Utilities & Altenavites</span>
              </a>  
            </li>
            <li>
              <a href="#"> 
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" stroke="#AFB8CC" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path d="M19.1013 7.82619L19.9672 7.326L19.9672 7.32599L19.1013 7.82619ZM19.1671 7.94004L18.3012 8.44023L18.3012 8.44023L19.1671 7.94004ZM19.9266 8.68741L20.4128 7.81354L20.4128 7.81353L19.9266 8.68741ZM21.4778 9.55032L20.9916 10.4242L20.9916 10.4242L21.4778 9.55032ZM21.9916 10.4219L20.9916 10.4242L20.9916 10.4242L21.9916 10.4219ZM21.9988 13.5738L20.9988 13.576L20.9988 13.576L21.9988 13.5738ZM21.4835 14.4507L20.9988 13.576L20.9988 13.576L21.4835 14.4507ZM19.9286 15.3124L20.4133 16.187L20.4133 16.187L19.9286 15.3124ZM19.1662 16.0613L18.3003 15.5611L18.3003 15.5611L19.1662 16.0613ZM19.1013 16.1737L19.9672 16.6738L19.9672 16.6738L19.1013 16.1737ZM18.8334 17.2077L17.8336 17.2245L17.8336 17.2245L18.8334 17.2077ZM18.8634 18.9886L17.8635 19.0054L17.8635 19.0054L18.8634 18.9886ZM18.3655 19.8703L17.8635 19.0054L17.8635 19.0054L18.3655 19.8703ZM15.6375 21.4536L16.1395 22.3185L16.1395 22.3185L15.6375 21.4536ZM14.6208 21.4461L15.1356 20.5887L15.1356 20.5887L14.6208 21.4461ZM13.0948 20.5299L12.5801 21.3873L12.5801 21.3873L13.0948 20.5299ZM10.9062 20.5287L11.4199 21.3867L11.4199 21.3867L10.9062 20.5287ZM9.38713 21.4383L8.87341 20.5803L8.87341 20.5803L9.38713 21.4383ZM8.37412 21.4468L8.87341 20.5803L8.87341 20.5803L8.37412 21.4468ZM5.63749 19.8698L6.13677 19.0033L6.13677 19.0033L5.63749 19.8698ZM5.13692 18.9865L6.13677 19.0034L6.13677 19.0034L5.13692 18.9865ZM5.16685 17.2133L4.16699 17.1965L4.16699 17.1965L5.16685 17.2133ZM4.9029 16.186L5.77078 15.6893L5.77078 15.6893L4.9029 16.186ZM4.83337 16.0646L3.96549 16.5613L3.96549 16.5613L4.83337 16.0646ZM4.0699 15.3104L3.58376 16.1842L3.58376 16.1842L4.0699 15.3104ZM2.52248 14.4495L2.03633 15.3234L2.03633 15.3234L2.52248 14.4495ZM2.00863 13.5779L1.00863 13.5802L2.00863 13.5779ZM2.00147 10.4261L3.00146 10.4238L2.00147 10.4261ZM2.51675 9.54914L3.00146 10.4238L3.00146 10.4238L2.51675 9.54914ZM4.07164 8.68748L3.58692 7.8128L3.58692 7.8128L4.07164 8.68748ZM4.83403 7.93852L3.96812 7.43832L3.96812 7.43833L4.83403 7.93852ZM4.89892 7.82619L5.76483 8.32638L5.76484 8.32638L4.89892 7.82619ZM5.16681 6.79216L6.16667 6.77533L6.16667 6.77533L5.16681 6.79216ZM5.13685 5.01125L4.13699 5.02807L4.13699 5.02807L5.13685 5.01125ZM5.63473 4.12954L6.1367 4.99442L6.1367 4.99442L5.63473 4.12954ZM8.36272 2.54625L8.86469 3.41113L8.86469 3.41113L8.36272 2.54625ZM9.3794 2.55377L8.86469 3.41113L8.86469 3.41113L9.3794 2.55377ZM10.9055 3.46994L10.3908 4.3273L10.3908 4.3273L10.9055 3.46994ZM13.094 3.47113L12.5803 2.61318L12.5803 2.61318L13.094 3.47113ZM14.6131 2.56155L14.0994 1.70359L14.0994 1.70359L14.6131 2.56155ZM15.6261 2.55307L16.1254 1.68663L16.1254 1.68663L15.6261 2.55307ZM18.3628 4.13007L18.8621 3.26364L18.8621 3.26364L18.3628 4.13007ZM18.8634 5.01333L17.8635 4.99651L17.8635 4.99651L18.8634 5.01333ZM18.8334 6.79216L17.8336 6.77533L17.8336 6.77534L18.8334 6.79216ZM18.2354 8.32638L18.3012 8.44023L20.033 7.43985L19.9672 7.326L18.2354 8.32638ZM19.4405 9.56129L20.9916 10.4242L21.9639 8.67644L20.4128 7.81354L19.4405 9.56129ZM20.9916 10.4242L20.9988 13.576L22.9988 13.5715L22.9916 10.4197L20.9916 10.4242ZM20.9988 13.576L19.4439 14.4377L20.4133 16.187L21.9682 15.3254L20.9988 13.576ZM18.3003 15.5611L18.2354 15.6735L19.9672 16.6738L20.0321 16.5615L18.3003 15.5611ZM17.8336 17.2245L17.8635 19.0054L19.8633 18.9718L19.8333 17.1909L17.8336 17.2245ZM17.8635 19.0054L15.1356 20.5887L16.1395 22.3185L18.8675 20.7352L17.8635 19.0054ZM15.1356 20.5887L13.6095 19.6725L12.5801 21.3873L14.1061 22.3034L15.1356 20.5887ZM12.0654 19.2446H11.9337V21.2446H12.0654V19.2446ZM10.3925 19.6708L8.87341 20.5803L9.90085 22.2963L11.4199 21.3867L10.3925 19.6708ZM8.87341 20.5803L6.13677 19.0033L5.1382 20.7362L7.87484 22.3132L8.87341 20.5803ZM6.13677 19.0034L6.16671 17.2302L4.16699 17.1965L4.13706 18.9696L6.13677 19.0034ZM5.77078 15.6893L5.70125 15.5678L3.96549 16.5613L4.03502 16.6828L5.77078 15.6893ZM4.55605 14.4365L3.00862 13.5756L2.03633 15.3234L3.58376 16.1842L4.55605 14.4365ZM3.00862 13.5756L3.00146 10.4238L1.00147 10.4284L1.00863 13.5802L3.00862 13.5756ZM3.00146 10.4238L4.55635 9.56215L3.58692 7.8128L2.03203 8.67447L3.00146 10.4238ZM5.69995 8.43871L5.76483 8.32638L4.03301 7.32599L3.96812 7.43832L5.69995 8.43871ZM6.16667 6.77533L6.1367 4.99442L4.13699 5.02807L4.16695 6.80898L6.16667 6.77533ZM6.1367 4.99442L8.86469 3.41113L7.86075 1.68136L5.13277 3.26465L6.1367 4.99442ZM8.86469 3.41113L10.3908 4.3273L11.4202 2.61258L9.89412 1.69641L8.86469 3.41113ZM11.9349 4.75522H12.0666V2.75522H11.9349V4.75522ZM13.6078 4.32909L15.1268 3.41951L14.0994 1.70359L12.5803 2.61318L13.6078 4.32909ZM15.1268 3.41951L17.8635 4.99651L18.8621 3.26364L16.1254 1.68663L15.1268 3.41951ZM17.8635 4.99651L17.8336 6.77533L19.8333 6.80898L19.8632 5.03016L17.8635 4.99651ZM17.8635 4.99651L17.8635 4.99651L19.8632 5.03016C19.8755 4.3031 19.4921 3.6267 18.8621 3.26364L17.8635 4.99651ZM15.1268 3.41951L15.1268 3.41951L16.1254 1.68663C15.497 1.32449 14.7217 1.33098 14.0994 1.70359L15.1268 3.41951ZM12.0666 4.75522C12.6094 4.75522 13.1421 4.60795 13.6078 4.32909L12.5803 2.61318C12.4251 2.70613 12.2475 2.75522 12.0666 2.75522V4.75522ZM10.3908 4.3273C10.8572 4.6073 11.3909 4.75522 11.9349 4.75522V2.75522C11.7536 2.75522 11.5757 2.70592 11.4202 2.61258L10.3908 4.3273ZM8.86469 3.41113L8.86469 3.41113L9.89412 1.69641C9.26964 1.3215 8.49071 1.31574 7.86075 1.68136L8.86469 3.41113ZM6.1367 4.99442L6.1367 4.99442L5.13277 3.26465C4.50578 3.62855 4.12479 4.30324 4.13699 5.02807L6.1367 4.99442ZM5.76484 8.32638C6.03692 7.85536 6.17582 7.31922 6.16667 6.77533L4.16695 6.80898C4.17 6.99027 4.1237 7.16899 4.03301 7.326L5.76484 8.32638ZM4.55635 9.56215C5.0324 9.29834 5.42771 8.90999 5.69995 8.43871L3.96812 7.43833C3.87738 7.59542 3.7456 7.72487 3.58692 7.8128L4.55635 9.56215ZM3.00146 10.4238L3.00146 10.4238L2.03204 8.67447C1.39464 9.0277 0.999815 9.69964 1.00147 10.4284L3.00146 10.4238ZM3.00863 13.5756L3.00862 13.5756L1.00863 13.5802C1.01027 14.3045 1.40339 14.9713 2.03633 15.3234L3.00863 13.5756ZM5.70126 15.5678C5.42971 15.0934 5.03372 14.7022 4.55605 14.4365L3.58376 16.1842C3.74298 16.2728 3.87498 16.4032 3.96549 16.5613L5.70126 15.5678ZM6.16671 17.2302C6.17582 16.6903 6.03904 16.1579 5.77078 15.6893L4.03502 16.6828C4.12443 16.839 4.17003 17.0165 4.16699 17.1965L6.16671 17.2302ZM6.13677 19.0033L6.13677 19.0034L4.13706 18.9696C4.12478 19.6967 4.50813 20.3731 5.1382 20.7362L6.13677 19.0033ZM8.87341 20.5803L8.87341 20.5803L7.87484 22.3132C8.50328 22.6754 9.27855 22.6689 9.90085 22.2963L8.87341 20.5803ZM11.9337 19.2446C11.3908 19.2446 10.8582 19.3919 10.3925 19.6708L11.4199 21.3867C11.5752 21.2937 11.7527 21.2446 11.9337 21.2446V19.2446ZM13.6095 19.6725C13.1431 19.3925 12.6093 19.2446 12.0654 19.2446V21.2446C12.2467 21.2446 12.4246 21.2939 12.5801 21.3873L13.6095 19.6725ZM15.1356 20.5887L15.1356 20.5887L14.1061 22.3034C14.7306 22.6783 15.5095 22.6841 16.1395 22.3185L15.1356 20.5887ZM17.8635 19.0054L17.8635 19.0054L18.8675 20.7352C19.4945 20.3713 19.8755 19.6966 19.8633 18.9718L17.8635 19.0054ZM18.2354 15.6735C17.9633 16.1445 17.8244 16.6806 17.8336 17.2245L19.8333 17.1909C19.8302 17.0096 19.8765 16.8309 19.9672 16.6738L18.2354 15.6735ZM19.4439 14.4377C18.9679 14.7015 18.5725 15.0898 18.3003 15.5611L20.0321 16.5615C20.1229 16.4044 20.2546 16.275 20.4133 16.187L19.4439 14.4377ZM20.9988 13.576L20.9988 13.576L21.9682 15.3254C22.6056 14.9721 23.0004 14.3002 22.9988 13.5715L20.9988 13.576ZM20.9916 10.4242L20.9916 10.4242L22.9916 10.4197C22.99 9.69536 22.5969 9.02856 21.9639 8.67644L20.9916 10.4242ZM18.3012 8.44023C18.5726 8.91007 18.9663 9.29751 19.4405 9.56129L20.4128 7.81353C20.2547 7.72561 20.1235 7.59646 20.033 7.43985L18.3012 8.44023ZM19.9672 7.32599C19.8765 7.16899 19.8302 6.99028 19.8333 6.80898L17.8336 6.77534C17.8244 7.31922 17.9633 7.85536 18.2354 8.32638L19.9672 7.32599Z" fill="#AFB8CC"></path>
              </svg> 
              <span>Energy Management</span>
              </a>
            </li>
        </ul>
    </footer>
    </main>
    <script src="js/app.js"></script>
  </body>
</html>

<script>
        function array(newarray){
        return newarray;
    }
      function createChart(name, number, panel, category, percent){
        var data = {{schedule | tojson}};
        var panelnames = {{panelnames | tojson}};
        var paneltotals = {{panelchart | tojson}};
        var predicted_line = {{predicted_line | safe}};
        var last_week_cd = {{last_week_cd | safe}};
        var current_last_week = last_week_cd[name];
        console.log(last_week_cd)
        console.log(current_last_week)
        var monday = current_last_week[0];
        var tuesday = current_last_week[1];
        var wednesday = current_last_week[2];
        var thursday = current_last_week[3];
        var friday = current_last_week[4];
        var saturday = current_last_week[5];
        var sunday = current_last_week[6];
        var last_week_data =  [];
        var current_line = predicted_line[name];
        var current_line_data = current_line['week_line'];
        var current_line_error = current_line['Error'];
        var current_line_sum = 0;
        var string = data[number];
        string = string.replace('[', '')
        string = string.replace(']', '')
        var datalist = string.split(",");
        chart5.updateSeries([{ 
            name: name,
            data: datalist,
        } 
        ]); 

        last_week_data = Object.values(monday[0]);
        last_week_data = last_week_data.concat(tuesday[0])
        last_week_data = last_week_data.concat(wednesday[0])
        last_week_data = last_week_data.concat(thursday[0])
        last_week_data = last_week_data.concat(friday[0])
        last_week_data = last_week_data.concat(saturday[0])
        last_week_data = last_week_data.concat(sunday[0])
        chart01.updateSeries([
        { 
            name: 'Predicted',
            data: current_line_data,
        },
        {   
            name: 'Last Weeks Usage',
            data: last_week_data,
        }, 
        ]); 
        chart0.updateSeries(100 - current_line_error, current_line_error);
        var sum = 0;
        var runtime = 0;
        for(var i = 0; i < datalist.length; i++){
            sum += (parseFloat(datalist[i]) / 1000);
            if(datalist[i] != 0){
                runtime += 1;
            }
        }
        for(var p = 0; p < current_line_data.length; p++){
            current_line_sum += current_line_data[p]
        }
        sum = Math.round(sum * 100) / 100;
        cost = sum * 0.09;
        cost = Math.round(cost * 100) / 100;
        sumSplit = String(sum).split('.')
        costSplit = String(cost).split('.')
        emission = (sum * 0.82).toFixed(2);
        emissionSplit = String(emission).split('.')
        var totallevyspent = ((((sum * 0.82) * 30) * 365)/1000) + ((((sum * 0.82) * 40) * 365)/1000) +((((sum * 0.82) * 50) * 365)/1000) +((((sum * 0.82) * 65) * 365)/1000) +((((sum * 0.82) * 80) * 365)/1000) +((((sum * 0.82) * 95) * 365)/1000) +((((sum * 0.82) * 110) * 365)/1000) +((((sum * 0.82) * 125) * 365)/1000) +((((sum * 0.82) * 140) * 365)/1000) +((((sum * 0.82) * 155) * 365)/1000) +((((sum * 0.82) * 170) * 365)/1000)
        if(emissionSplit[1] == undefined){
            emissionSplit[1] = '00'
          }
          if(sumSplit[1] == undefined){
            sumSplit[1] = '00'
          }
          if(costSplit[1] == undefined){
            costSplit[1] = '00'
          }
        document.getElementById("circuitemission-whole").innerHTML = Math.abs(emissionSplit[0]);
        document.getElementById("circuitemission-decimal").innerHTML = '.' + Math.abs(emissionSplit[1]);
        document.getElementById('circuit-block').style.width = '744px';
        document.getElementById('load-predict').style.width = '0px';
        document.getElementById("circuit-title").innerHTML = name;
        document.getElementById("overview-title").innerHTML = name;
        document.getElementById("load-title").innerHTML = name;
        document.getElementById("levy-title").innerHTML = name;
        document.getElementById('circuit-block').style.border = 'border: 2px solid #E3E7ED';
        document.getElementById('circuit-whole').textContent = sumSplit[0];
        document.getElementById('circuit-decimal').textContent = '.' + sumSplit[1];
        document.getElementById('cost-whole').textContent = costSplit[0];
        document.getElementById('cost-decimal').textContent = '.' + costSplit[1];
        document.getElementById("general-info-category").innerHTML = category;
        document.getElementById("general-info-panel").innerHTML = panel;
        document.getElementById("on-hours-circuit").innerHTML = {{timeloads.iloc[0][1]}} + '%';
        document.getElementById("off-hours-circuit").innerHTML = {{timeloads.iloc[1][1]}} + '%';
        document.getElementById('time-on-circle').style.backgroundColor = '{{timeloads.iloc[0][2]}}';
        document.getElementById('time-off-circle').style.backgroundColor = '{{timeloads.iloc[1][2]}}';
        document.getElementById("run-times-time").innerHTML = runtime + 'h';
        document.getElementById("monthly-avg-kwh").innerHTML = (sum * 30).toFixed(2) + ' kWh';
        document.getElementById("monthly-avg-cost").innerHTML = '$' + (cost * 30).toFixed(2);
        document.getElementById("yearly-avg-kwh").innerHTML = (sum * 365).toFixed(2) + ' kWh';
        document.getElementById("yearly-avg-cost").innerHTML = '$' + (cost * 365).toFixed(2);
        document.getElementById("avg-circuit-total-percent").innerHTML = (percent * 1).toFixed(2) + '%';
        document.getElementById("carbon-levy-kg").innerHTML = (sum * 0.82).toFixed(2);
        document.getElementById("carbon-levy-kg").innerHTML = (sum * 0.82).toFixed(2);
        document.getElementById("carbon-levy-annual").innerHTML = (((sum * 0.82) * 365)/1000).toFixed(2);
        document.getElementById("carbon-levy-total").innerHTML = ((((sum * 0.82) * 365)/1000) * 11).toFixed(2);
        document.getElementById("carbon-cost-annual").innerHTML = '$' + totallevyspent.toFixed(2);
        document.getElementById("estimate1").innerHTML = '$' + ((((sum * 0.82) * 30) * 365)/1000).toFixed(2);
        document.getElementById("estimate2").innerHTML = '$' + ((((sum * 0.82) * 40) * 365)/1000).toFixed(2);
        document.getElementById("estimate3").innerHTML = '$' + ((((sum * 0.82) * 50) * 365)/1000).toFixed(2);
        document.getElementById("estimate4").innerHTML = '$' + ((((sum * 0.82) * 65) * 365)/1000).toFixed(2);
        document.getElementById("estimate5").innerHTML = '$' + ((((sum * 0.82) * 80) * 365)/1000).toFixed(2);
        document.getElementById("estimate6").innerHTML = '$' + ((((sum * 0.82) * 95) * 365)/1000).toFixed(2);
        document.getElementById("estimate7").innerHTML = '$' + ((((sum * 0.82) * 110) * 365)/1000).toFixed(2);
        document.getElementById("estimate8").innerHTML = '$' + ((((sum * 0.82) * 125) * 365)/1000).toFixed(2);
        document.getElementById("estimate9").innerHTML = '$' + ((((sum * 0.82) * 140) * 365)/1000).toFixed(2);
        document.getElementById("estimate10").innerHTML = '$' + ((((sum * 0.82) * 155) * 365)/1000).toFixed(2);
        document.getElementById("estimate11").innerHTML = '$' + ((((sum * 0.82) * 170) * 365)/1000).toFixed(2);
        document.getElementById("circuit-block").style.boxShadow  = "0 0 0 10000px rgba(0,0,0,.50)";
        document.getElementById("typical-load").innerHTML = (sum - 2).toFixed(2) + 'kWh' + '-' + (sum + 2).toFixed() + 'kWh';
        document.getElementById("load-fluctuation").innerHTML = (percent - 2).toFixed(2) + '%' + ' - ' + (percent - -1).toFixed(2) + "%";
        document.getElementById('score-percent').innerHTML = (100 - (current_line_error * 100)).toFixed(2) + "<span style = 'font-size: 14px;'>%</span>";
        document.getElementById('highnumber').innerHTML = (Math.max( ...current_line_data) * 1000).toFixed(0) + "<span style = 'font-size: 14px;'>w</span>";
        document.getElementById('lownumber').innerHTML = (Math.min( ...current_line_data) * 1000).toFixed(0) + "<span style = 'font-size: 14px;'>w</span>";
        document.getElementById('averagenumber').innerHTML = ((current_line_sum / current_line_data.length) * 1000).toFixed(0) + "<span style = 'font-size: 14px;'>w</span>";


    if(category == 'lighting'){
        document.getElementById('category-circle-color').style.backgroundColor = '#3649A8';
    }
    if(category == 'plugload'){
        document.getElementById('category-circle-color').style.backgroundColor = '#EE8F37';
    }
    if(category == 'hvac'){
        document.getElementById('category-circle-color').style.backgroundColor = '#EE5937';
    }
    if(category == 'equipment'){
        document.getElementById('category-circle-color').style.backgroundColor = '#3BCDEE';
    }
    if(category == 'hotwater'){
        document.getElementById('category-circle-color').style.backgroundColor = '#90C449';
    }
    if(category == 'other'){
        document.getElementById('category-circle-color').style.backgroundColor = '#DBE2F3';
    }

    for(var i = 0; i < panelnames.length; i++){
        if(panel == panelnames[i]){
            document.getElementById('panel-circle-color').style.backgroundColor = panelcolours[i];
            document.getElementById("avg-circuit-panel-percent").innerHTML = (((sum * 1000) / paneltotals[i]) * 100).toFixed(2) + '%';
        }
    }
    }
</script>
  <script>
    var price = {{price | tojson }};
    var energy = {{usage | tojson }};
    var Cost = true;
    var totalUsage = {{totalUsage}};
    var totalPrice = {{totalPrice}};
    var totalEmmissions = {{totalEmmissions}};

function changeUnits(){
    var usage = document.getElementsByClassName('x345-L7BXHD');

    if(Cost){
    for(var i = 0; i < usage.length; i++){
      usage[i].innerHTML = '$ ' + price[i];
      Cost = false;
    }
  }

  else{
    for(var i = 0; i < usage.length; i++){
      usage[i].innerHTML = energy[i] + ' kWh';
      Cost = true;
    }
  }
}

function openPanelSidebar(){
    document.getElementById('rightpanel').style.width = '400px';
    document.getElementById('rightcategory').style.width = '0px';
    document.getElementById('righttimeloads').style.width = '0px';
    document.getElementById('title').innerHTML = 'Electrical Panels';

    var colours = {{colours | tojson}};
       var x = {{numpanels}};
       var panelnames = {{strippedPanels | tojson}};
       var i;
       for(i = 0; i < x; i++){
         var j = document.getElementsByClassName(panelnames[i] + 'colour');
         var k = document.getElementsByClassName(panelnames[i]);
         for(var l = 0; l < j.length; l++){
             j[l].style.backgroundColor = colours[i];
         }
         for(var l = 0; l < k.length; l++){
             k[l].style.color = colours[i];
         }
       }

}
function openCategorySidebar(){
    document.getElementById('rightcategory').style.width = '400px';
    document.getElementById('rightpanel').style.width = '0px';
    document.getElementById('righttimeloads').style.width = '0px';
    document.getElementById('title').innerHTML = 'Inventory';

    var colours = {{colours | tojson}};
       var x = 6;
       var categorynames = ['lighting','equipment','hvac','plugload','hotwater','other'];
       var i;
       for(i = 0; i < x; i++){
         var j = document.getElementsByClassName(categorynames[i] + 'colour');
         var k = document.getElementsByClassName(categorynames[i]);
         for(var l = 0; l < j.length; l++){
             j[l].style.backgroundColor = colours[i];
         }
         for(var l = 0; l < k.length; l++){
             k[l].style.color = colours[i];
         }
       }
}
function openTimeSidebar(){
    document.getElementById('rightcategory').style.width = '0px';
    document.getElementById('rightpanel').style.width = '0px';
    document.getElementById('righttimeloads').style.width = '400px';
    document.getElementById('title').innerHTML = 'Time Loads';
}


function toggleCategories(category){
  var circuits = document.getElementsByClassName(category + 'rectangle');
  var circuitvalues = document.getElementsByClassName(category + 'value');

  for (var i = 0; i < circuits.length; i++) {
    if(!(circuits[i].classList.contains('panelhidden'))){
      if(circuits[i].style.display === "none") {
        circuits[i].style.display = "block";
        circuits[i].classList.remove("categoryhidden");
        if(Cost){
          var value = circuitvalues[i].innerHTML.split(' ')[0]
          totalPrice += parseFloat(value * 0.09);
          totalUsage += parseFloat(value)
        }
        else{
          var value = circuitvalues[i].innerHTML.split(' ')[1]
          totalPrice += parseFloat(value);
          totalUsage += parseFloat(value/0.09)
        }
      } 
      else {
        circuits[i].style.display = "none";
        circuits[i].classList.add("categoryhidden");
        if(Cost){
          var value = circuitvalues[i].innerHTML.split(' ')[0]
          totalPrice -= parseFloat(value * 0.09);
          totalUsage -= parseFloat(value)
        }
        else{
          var value = circuitvalues[i].innerHTML.split(' ')[1]
          totalPrice -= parseFloat(value);
          totalUsage -= parseFloat(value/0.09)
        }

      }
    }
    else{
    if((circuits[i].classList.contains('categoryhidden'))) {
        circuits[i].classList.remove("categoryhidden");

      } 
      else {
        circuits[i].classList.add("categoryhidden");
      }
    }
  }
  totalEmmissions = totalUsage * 0.82;
  getTotal();
}

function togglePanels(panels){
  var circuits = document.getElementsByClassName(panels + 'rectangle');
  var circuitvalues = document.getElementsByClassName(panels + 'value');

  for (var i = 0; i < circuits.length; i++) {
    if(!(circuits[i].classList.contains('categoryhidden'))){
      if(circuits[i].style.display === "none") {
        circuits[i].style.display = "block";
        circuits[i].classList.remove("panelhidden");
        if(Cost){
          var value = circuitvalues[i].innerHTML.split(' ')[0]
          totalPrice += parseFloat(value * 0.09);
          totalUsage += parseFloat(value)
        }
        else{
          var value = circuitvalues[i].innerHTML.split(' ')[1]
          totalPrice += parseFloat(value);
          totalUsage += parseFloat(value/0.09)
        }
      } 
      else {
        circuits[i].style.display = "none";
        circuits[i].classList.add("panelhidden");
        if(Cost){
          var value = circuitvalues[i].innerHTML.split(' ')[0]
          totalPrice -= parseFloat(value * 0.09);
          totalUsage -= parseFloat(value)
        }
        else{
          var value = circuitvalues[i].innerHTML.split(' ')[1]
          totalPrice -= parseFloat(value);
          totalUsage -= parseFloat(value/0.09)
        }
      }
    }
    else{
      if((circuits[i].classList.contains('panelhidden'))) {
        circuits[i].classList.remove("panelhidden");
      } 
      else {
        circuits[i].classList.add("panelhidden");
      }
    }
  }
  totalEmmissions = totalUsage * 0.82;
  getTotal();
}


function getTotal() {
  if(totalUsage < 0){
    totalUsage = 0
  }
  if(totalPrice < 0){
    totalPrice = 0
  }
  if(totalEmmissions < 0){
    totalEmmissions = 0
  }
  totalSplit = String(totalUsage.toFixed(2)).split('.')
  priceSplit = String(totalPrice.toFixed(2)).split('.')
  emissionSplit = String(totalEmmissions.toFixed(2)).split('.')


  if(totalSplit[1] == undefined){
      totalSplit[1] = '00'
  }
  if(emissionSplit[1] == undefined){
      emissionSplit[1] = '00'
  }
  if(priceSplit[1] == undefined){
      priceSplit[1] = '00'
  }
  document.getElementById("total-whole").innerHTML = totalSplit[0];
  document.getElementById("total-decimal").innerHTML = '.' + totalSplit[1];
  document.getElementById("emission-whole").innerHTML = (emissionSplit[0]);
  document.getElementById("emission-decimal").innerHTML = '.' + (emissionSplit[1]);
  document.getElementById("totalprice-whole").innerHTML = priceSplit[0];
  document.getElementById("totalprice-decimal").innerHTML = '.' + priceSplit[1];
}
function exploreCircuit(circuitname){
        var x = document.getElementsByClassName('rectangle-3165-L7BXHD');
        var y = document.getElementsByClassName('explore-image-box');
        var lighting = document.getElementsByClassName('lighting');
        var equipment = document.getElementsByClassName('equipment');
        var hvac = document.getElementsByClassName('hvac');
        var plugload = document.getElementsByClassName('plugload');
        var hotwater = document.getElementsByClassName('hotwater');
        var other = document.getElementsByClassName('other');
        for(var i = 0; i < x.length; i++){
            x[i].style.backgroundColor = 'white';
            y[i].style.display = 'none';

        }
        console.log(circuitname)
        document.getElementById(circuitname).style.backgroundColor = '#0D1758';
        document.getElementById(circuitname + 'image').style.display = 'block';
    }

function closeCircuitBlock(){
    document.getElementById('circuit-block').style.width = '0px';
    document.getElementById('circuit-block').style.border = "2px solid transparent";
    document.getElementById('overview').style.width = '0px';
    document.getElementById('load-predict').style.width = '0px';
    document.getElementById('carbon-levy').style.width = '0px';
    document.getElementById("circuit-block").style.boxShadow  = "0 0 0 0px rgba(0,0,0,.50)";
}

  </script>
<script>

      var end = {{endhours}};
  var afternoon = document.getElementById('afternoon')
  var night = document.getElementById('night')
  if(end == 0){
    night.style.overflow = 'hidden'
    afternoon.style.overflow = 'hidden'
  }
         function openOverview(){
        document.getElementById('overview').style.width = '744px';
        document.getElementById('load-predict').style.width = '0px'
        document.getElementById('carbon-levy').style.width = '0px'
       }
       function closeOverview(){
        document.getElementById('overview').style.width = '0px';
       }
       function closeLoadPredict(){
        document.getElementById('load-predict').style.width = '0px';
       }

       function openLoadPredict(){
        document.getElementById('load-predict').style.width = '744px';
        document.getElementById('overview').style.width = '0px'
        document.getElementById('carbon-levy').style.width = '0px'
       }
       function openCarbonLevy(){
        document.getElementById('load-predict').style.width = '0px';
        document.getElementById('overview').style.width = '0px'
        document.getElementById('carbon-levy').style.width = '744px'
       }
       function closeCarbonLevy(){
        document.getElementById('carbon-levy').style.width = '0px';
       }


       function checkIf0(){
        var lighting = document.getElementById('lightingcheck')
        var hvac = document.getElementById('hvaccheck')
        var dhw = document.getElementById('dhwcheck')
        var equipment = document.getElementById('equipmentcheck')
        var plugload = document.getElementById('plugloadcheck')
        var other = document.getElementById('othercheck')

        if(!(lighting.checked)){
          if(!(hvac.checked)){
            if(!(dhw.checked)){
              if(!(equipment.checked)){
                if(!(plugload.checked)){
                  if(!(other.checked)){
                        document.getElementById("total-whole").innerHTML = '0';
                        document.getElementById("total-decimal").innerHTML = '.' + '00';
                        document.getElementById("emission-whole").innerHTML = '0';
                        document.getElementById("emission-decimal").innerHTML = '.' + '00';
                        document.getElementById("totalprice-whole").innerHTML = '0';
                        document.getElementById("totalprice-decimal").innerHTML = '.' + '00';
                      }
                    }
                  }
                }
              }
        }


       }

</script>
<svg id="SvgjsSvg1383" width="2" height="0" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev" style="overflow: hidden; top: -100%; left: -100%; position: absolute; opacity: 0;"><defs id="SvgjsDefs1384"></defs><polyline id="SvgjsPolyline1385" points="0,0"></polyline><path id="SvgjsPath1386" d="M0 0 "></path></svg>




<script>
  var util = {
  qs(sel, ctx){ 
    return (ctx || document).querySelector(sel);
  },
  qsa(sel, ctx){
    return Array.from((ctx || document).querySelectorAll(sel));
  }
};

class DateCarousel {
  constructor(el) {
    this.element = el;
    this.prevButton = util.qs(".date-carousel-prev", el);
    this.input = util.qs(".date-carousel-input",el);
    this.nextButton = util.qs(".date-carousel-next",el);
    this.input.valueAsDate = new Date();
    this.prevButton.addEventListener("click",this.prev.bind(this));
    this.nextButton.addEventListener("click",this.next.bind(this));
  }
  
  prev(){
    console.log('------------- prev', this.input.name);
    this.input.stepDown();
    
  }
  
  next() {
    console.log('------------- next', this.input.name);
    this.input.stepUp();
  }
}

util.qsa('.date-carousel').forEach(function(el){ new DateCarousel(el) });



    </script>



    <script>
      $(document).ready(function(){
      $('#datepicker').val(moment().subtract({{daysDifference}}, 'days').format('ddd, D MMM yy'));
          $('#datepicker').datepicker({
            dateFormat: "D, d M yy"
          });
         $('.next-day').on('click', function (e) {
           e.preventDefault();
             var date = $('#datepicker').datepicker('getDate');
             date.setDate(date.getDate() +1)
             


             console.log(date, 'prev');
             $('#datepicker').datepicker('setDate', date);
             $("#datepicker").trigger('change');
         });
         $('.prev-day').on('click', function (e) {
          e.preventDefault();
             var date = $('#datepicker').datepicker('getDate');
             date.setDate(date.getDate() -1)
             $('#datepicker').datepicker('setDate', date);
             $("#datepicker").trigger('change');
             
         });
         $('.today-date').on('click', function (e) {
          e.preventDefault();
             var date = moment().format('MM D, YYYY');
             date.setDate(date.getDate() -1)
             $('#datepicker').datepicker('setDate', date);
         });
         });
         </script>

         <script>
if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register("/sw.js", { scope: '/' })
        .then(function(registration) {
          // Registration was successful
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function(err) {
          // registration failed :(
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    } 
</script>